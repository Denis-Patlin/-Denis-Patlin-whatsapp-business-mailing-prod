"use strict";(self["webpackChunkwork_project_v3"]=self["webpackChunkwork_project_v3"]||[]).push([[313],{1149:function(t,e,i){i.d(e,{Z:function(){return d}});var a=i(7808),n=function(){var t=this,e=t._self._c;return e(a.Z,{attrs:{"prepend-icon":"fa-solid fa-magnifying-glass",placeholder:"Search..."},on:{input:t.search}})},o=[],r={props:{dataForFilter:{type:Array,default:()=>[]},searchKey:{type:String,default:""}},data(){return{filtredData:[]}},methods:{search(t){this.filtredData=this.dataForFilter.filter((e=>e[this.searchKey].includes(t))),this.$emit("onFilter",this.filtredData)}}},s=r,l=i(1001),c=(0,l.Z)(s,n,o,!1,null,null,null),d=c.exports},1313:function(t,e,i){i.r(e),i.d(e,{default:function(){return g}});var a=i(3423),n=i(5256),o=(i(7658),function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("div",{staticClass:"search-bar"},[e("BaseSearchBar",{attrs:{"data-for-filter":t.clients,"search-key":"username"},on:{onFilter:t.onFilterHandle}})],1),e(n.Z,{attrs:{items:t.clientsOrigin,"item-height":70,height:"700px"},scopedSlots:t._u([{key:"default",fn:function({item:i}){return[e("div",{staticClass:"list_item"},[e("div",{staticClass:"list_item__block_info"},[e(a.Z,{attrs:{color:t.getColor(i.username)}},[e("div",[t._v(t._s(t.getFirstLetter(i.username)))])]),e("div",{staticClass:"block_info__name"},[t._v(" "+t._s(i.username)+" ")])],1),e("div",{staticClass:"list_item__block_buttons"},[e("BaseButton",{attrs:{color:"gray"},on:{click:()=>t.$router.push(`${i.username}/edit-client`)}},[t._v(" Изменить ")]),e("BaseButton",{attrs:{color:"gray"},on:{click:function(e){return t.openClientTemplates(i)}}},[t._v(" Шаблоны ")]),e("BaseButton",{attrs:{color:"gray"},on:{click:function(e){return t.openClientsReports(i)}}},[t._v(" Отчеты ")]),e("BaseButton",{attrs:{color:"gray"},on:{click:function(e){return t.toggleUserActivation(i)}}},[e("i",{class:t.getIcon(i.is_active)})])],1)])]}}])}),e("vue-element-loading",{attrs:{active:t.isLoading,"background-color":"rgba(255, 255, 255, 1)",color:"blue"}})],1)}),r=[],s=i(629),l=i(4402),c=i(7978),d=i(1149),h=i(2581),u=i(4110),m={components:{BaseButton:c.Z,BaseSearchBar:d.Z},mixins:[u.Z,h.Z],data:()=>({clientsOrigin:[],isLoading:!1,modal:!1}),computed:{...(0,s.Se)(["getClients"]),clients(){return this.getClients}},watch:{clients(t){this.clientsOrigin=[...t]}},mounted(){localStorage.getItem("CompleteAdminTour")||(this.createTour(),this.addAdminTour(),this.tour.start())},created(){l.t.get("/users").then((t=>{this.$store.commit("setClient",t.data.Data.reverse())})).catch((t=>{this.$toast.error(t.message,{timeout:2e3})}))},methods:{onFilterHandle(t){this.clientsOrigin=t},openClientTemplates(t){this.$store.commit("setActiveNestedDashboard","clientsTemplates"),this.$router.push({name:"clientsTemplates",params:{userId:t.username,user:t}})},openClientsReports(t){this.$store.commit("setActiveNestedDashboard","clientsReports"),this.$router.push({name:"clientsReports",params:{userId:t.username,user:t}})},getIcon(t){return t?"fa-solid fa-ban red_font":"fa-regular fa-circle-check green_font"},toggleUserActivation(t){let e=null,i="";t.is_active?(i="Клиент деактивирован",e="deactivate"):(i="Клиент активирован",e="activate"),this.isLoading=!0,l.t.get(`user/${e}/${t.username}`).then((()=>{t.is_active=!t.is_active,this.$toast.success(i,{timeout:2e3})})).catch((t=>{this.$toast.error(t.message,{timeout:2e3})})).finally((()=>{this.isLoading=!1}))}}},v=m,p=i(1001),_=(0,p.Z)(v,o,r,!1,null,"65caffc7",null),g=_.exports},3423:function(t,e,i){i.d(e,{Z:function(){return l}});var a=i(6878),n=i(8846),o=i(2637),r=i(5352),s=i(7678),l=(0,s.Z)(a.Z,n.Z,o.Z).extend({name:"v-avatar",props:{left:Boolean,right:Boolean,size:{type:[Number,String],default:48}},computed:{classes(){return{"v-avatar--left":this.left,"v-avatar--right":this.right,...this.roundedClasses}},styles(){return{height:(0,r.kb)(this.size),minWidth:(0,r.kb)(this.size),width:(0,r.kb)(this.size),...this.measurableStyles}}},render(t){const e={staticClass:"v-avatar",class:this.classes,style:this.styles,on:this.$listeners};return t("div",this.setBackgroundColor(this.color,e),this.$slots.default)}})},5256:function(t,e,i){i.d(e,{Z:function(){return c}});var a=i(8846);function n(t,e,i){const{self:a=!1}=e.modifiers||{},n=e.value,o="object"===typeof n&&n.options||{passive:!0},r="function"===typeof n||"handleEvent"in n?n:n.handler,s=a?t:e.arg?document.querySelector(e.arg):window;s&&(s.addEventListener("scroll",r,o),t._onScroll=Object(t._onScroll),t._onScroll[i.context._uid]={handler:r,options:o,target:a?void 0:s})}function o(t,e,i){var a;if(!(null===(a=t._onScroll)||void 0===a?void 0:a[i.context._uid]))return;const{handler:n,options:o,target:r=t}=t._onScroll[i.context._uid];r.removeEventListener("scroll",n,o),delete t._onScroll[i.context._uid]}const r={inserted:n,unbind:o};var s=r,l=i(5352),c=a.Z.extend({name:"v-virtual-scroll",directives:{Scroll:s},props:{bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},data:()=>({first:0,last:0,scrollTop:0}),computed:{__bench(){return parseInt(this.bench,10)},__itemHeight(){return parseInt(this.itemHeight,10)},firstToRender(){return Math.max(0,this.first-this.__bench)},lastToRender(){return Math.min(this.items.length,this.last+this.__bench)}},watch:{height:"onScroll",itemHeight:"onScroll"},mounted(){this.last=this.getLast(0)},methods:{getChildren(){return this.items.slice(this.firstToRender,this.lastToRender).map(this.genChild)},genChild(t,e){e+=this.firstToRender;const i=(0,l.kb)(e*this.__itemHeight);return this.$createElement("div",{staticClass:"v-virtual-scroll__item",style:{top:i},key:e},(0,l.z9)(this,"default",{index:e,item:t}))},getFirst(){return Math.floor(this.scrollTop/this.__itemHeight)},getLast(t){const e=parseInt(this.height||0,10)||this.$el.clientHeight;return t+Math.ceil(e/this.__itemHeight)},onScroll(){this.scrollTop=this.$el.scrollTop,this.first=this.getFirst(),this.last=this.getLast(this.first)}},render(t){const e=t("div",{staticClass:"v-virtual-scroll__container",style:{height:(0,l.kb)(this.items.length*this.__itemHeight)}},this.getChildren());return t("div",{staticClass:"v-virtual-scroll",style:this.measurableStyles,directives:[{name:"scroll",modifiers:{self:!0},value:this.onScroll}],on:this.$listeners},[e])}})},2581:function(t,e){e["Z"]={methods:{getColor(t){const e=["#F46A5F","#FC8256","#FFC33D","#49BEB7","#4C96D7","#8555D7","#FF7DCC","#D4C5F9","#4992E6","#FF6B8A","#01A9DB","#B6FCD5"];let i=0;for(let n=0;n<t.length;n++)i=t.charCodeAt(n)+((i<<5)-i);const a=Math.abs(i)%e.length;return e[a]},getFirstLetter(t){return t&&t.length>0?t.charAt(0):""}}}},4110:function(t,e){e["Z"]={methods:{createTour(){this.tour=this.$shepherd({useModalOverlay:!0})},addReportTour(){this.tour.addSteps([{id:"report_step_1",text:"Так выглядит Ваш отчет",attachTo:{element:"#home-page > div > section > div.animate__animated.animate__fadeIn.velmld-parent",on:"top"},canClickTarget:!1,buttons:[{text:"Выйти",action(){localStorage.setItem("CompleteReportTour","true"),this.cancel()}},{text:"Далее",action:this.tour.next}]},{id:"report_step_2",text:"Это столбец с встроенной сортировкой, при нажатии на него столбец будет отфильтрован по дате (по убыванию/по возрастанию/выключить сортировку)",attachTo:{element:"#vgt-table > thead > tr > th.vgt-right-align.text-center.sortable > button",on:"top"},canClickTarget:!0,buttons:[{text:"Выйти",action(){localStorage.setItem("CompleteReportTour","true"),this.cancel()}},{text:"Далее",action:this.tour.next}]},{id:"report_step_3",text:"Таблица поддерживает экспорт в Excell файл",attachTo:{element:"#table_export_excel",on:"top"},canClickTarget:!1,buttons:[{text:"Выйти",action(){localStorage.setItem("CompleteReportTour","true"),this.cancel()}},{text:"Далее",action:this.tour.next}]},{id:"report_step_4",text:"Также вы можете отфильтровать данные по периоду",attachTo:{element:"#table_datepicker",on:"top"},advanceOn:{selector:"#table_datepicker",event:"click"},canClickTarget:!0},{id:"report_step_5",text:"Выберите начало периода",attachTo:{element:"#app > div.v-dialog__content.v-dialog__content--active > div > div > div > div.v-picker__body.theme--light > div > div.v-date-picker-table.v-date-picker-table--date.theme--light > table > tbody > tr:nth-child(3) > td:nth-child(4) > button",on:"top"},advanceOn:{selector:"#app > div.v-dialog__content.v-dialog__content--active > div > div > div > div.v-picker__body.theme--light > div > div.v-date-picker-table.v-date-picker-table--date.theme--light > table > tbody > tr:nth-child(3) > td:nth-child(4) > button",event:"click"},canClickTarget:!0},{id:"report_step_6",text:"Выберите конец периода",attachTo:{element:"#app > div.v-dialog__content.v-dialog__content--active > div > div > div > div.v-picker__body.theme--light > div > div.v-date-picker-table.v-date-picker-table--date.theme--light > table > tbody > tr:nth-child(5) > td:nth-child(4) > button",on:"top"},advanceOn:{selector:"#app > div.v-dialog__content.v-dialog__content--active > div > div > div > div.v-picker__body.theme--light > div > div.v-date-picker-table.v-date-picker-table--date.theme--light > table > tbody > tr:nth-child(5) > td:nth-child(4) > button",event:"click"},canClickTarget:!0},{id:"report_step_7",text:"Фильтруем",attachTo:{element:"#date_picker__btn-filter",on:"top"},advanceOn:{selector:"#date_picker__btn-filter",event:"click"},canClickTarget:!0},{id:"report_step_7",text:"Это все, удачного пользования!",canClickTarget:!0,buttons:[{text:"Закончить",action(){localStorage.setItem("CompleteReportTour","true"),this.complete()}}]}])},addAdminTour(){this.tour.addSteps([{id:"admin_step_1",text:"Это ваш список клиентов",attachTo:{element:"#home-page > div > section > div.animate__animated.animate__fadeIn.velmld-parent",on:"top"},canClickTarget:!1,buttons:[{text:"Выйти",action(){localStorage.setItem("CompleteAdminTour","true"),this.cancel()}},{text:"Далее",action:this.tour.next}]},{id:"admin_step_2",text:"Вы можете просматривать шаблоны клиента",attachTo:{element:"#home-page > div > section > div.wrapper.animate__animated.animate__fadeIn.velmld-parent > div.v-virtual-scroll.virual-scroll > div > div:nth-child(1) > div > div.list_item__block_buttons > button:nth-child(1)",on:"top"},canClickTarget:!1,buttons:[{text:"Выйти",action(){localStorage.setItem("CompleteAdminTour","true"),this.cancel()}},{text:"Далее",action:this.tour.next}]},{id:"admin_step_2",text:"также просматривать отчеты",attachTo:{element:"#home-page > div > section > div.wrapper.animate__animated.animate__fadeIn.velmld-parent > div.v-virtual-scroll.virual-scroll > div > div:nth-child(1) > div > div.list_item__block_buttons > button:nth-child(2)",on:"top"},canClickTarget:!1,buttons:[{text:"Выйти",action(){localStorage.setItem("CompleteAdminTour","true"),this.cancel()}},{text:"Далее",action:this.tour.next}]},{id:"admin_step_3",text:"и забанить клиента. У забаненого клиента не будет доступа к его учетной записи. (ее можно вернуть повторным кликом на кнопку)",attachTo:{element:"#home-page > div > section > div.wrapper.animate__animated.animate__fadeIn.velmld-parent > div.v-virtual-scroll.virual-scroll > div > div:nth-child(1) > div > div.list_item__block_buttons > button:nth-child(3)",on:"top"},canClickTarget:!1,buttons:[{text:"Выйти",action(){localStorage.setItem("CompleteAdminTour","true"),this.cancel()}},{text:"Далее",action:this.tour.next}]},{id:"admin_step_4",text:"Давайте посмотрим как создать клиента",attachTo:{element:"#home-page > div > div > div.dashboard__control > div > button:nth-child(1)",on:"top"},advanceOn:{selector:"#home-page > div > div > div.dashboard__control > div > button:nth-child(1)",event:"click"},canClickTarget:!0},{id:"admin_step_5",text:"При помощи данной формы можно создать клиента",attachTo:{element:"#home-page > div > section",on:"top"},canClickTarget:!1,buttons:[{text:"Выйти",action(){localStorage.setItem("CompleteAdminTour","true"),this.cancel()}},{text:"Далее",action:this.tour.next}]},{id:"admin_step_6",text:"Вводим номер телефона через 8 который играет роль логина (пример: 87471231212)",attachTo:{element:"#home-page > div > section > div.wrapper.animate__animated.animate__fadeIn.velmld-parent > form > div > div:nth-child(1) > div > div:nth-child(1) > div > div.v-input__slot > div",on:"top"},canClickTarget:!1,buttons:[{text:"Выйти",action(){localStorage.setItem("CompleteAdminTour","true"),this.cancel()}},{text:"Далее",action:this.tour.next}]},{id:"admin_step_7",text:"заполняем остальные поля",attachTo:{element:"#general-fields",on:"top"},canClickTarget:!1,buttons:[{text:"Выйти",action(){localStorage.setItem("CompleteAdminTour","true"),this.cancel()}},{text:"Далее",action:this.tour.next}]},{id:"admin_step_8",text:"Не забываем отправить",attachTo:{element:"#home-page > div > section > div.wrapper.animate__animated.animate__fadeIn.velmld-parent > form > div > div:nth-child(2) > div > button",on:"top"},canClickTarget:!1,buttons:[{text:"Выйти",action(){localStorage.setItem("CompleteAdminTour","true"),this.cancel()}},{text:"Далее",action:this.tour.next}]},{id:"admin_step_9",text:"Обучение окончено, приятного пользования!",canClickTarget:!1,buttons:[{text:"Закончить",action(){localStorage.setItem("CompleteAdminTour","true"),this.complete()}}]}])}}}}}]);
//# sourceMappingURL=313.dd466a4d.js.map