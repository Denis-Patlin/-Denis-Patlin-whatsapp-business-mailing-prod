"use strict";(self["webpackChunkwork_project_v3"]=self["webpackChunkwork_project_v3"]||[]).push([[994],{5994:function(e,t,s){s.r(t),s.d(t,{default:function(){return y}});var i=s(4562),l=s(266),r=s(2118),n=s(5125),a=s(1713),o=s(1280),c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t(n.Z,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[t(r.Z,[t(a.Z,[t(l.Z,{attrs:{cols:"12"}},[t(o.Z,{attrs:{rules:e.generalRules,label:"Логин",required:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.preventDefault()}},model:{value:e.clientFields.username,callback:function(t){e.$set(e.clientFields,"username","string"===typeof t?t.trim():t)},expression:"clientFields.username"}}),t("div",{attrs:{id:"general-fields"}},[t(o.Z,{attrs:{rules:e.generalRules,label:"Пароль",required:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.preventDefault()}},model:{value:e.clientFields.password,callback:function(t){e.$set(e.clientFields,"password","string"===typeof t?t.trim():t)},expression:"clientFields.password"}}),t(o.Z,{attrs:{rules:e.generalRules,label:"Название компании",required:""},model:{value:e.clientFields.company_name,callback:function(t){e.$set(e.clientFields,"company_name","string"===typeof t?t.trim():t)},expression:"clientFields.company_name"}}),t(o.Z,{attrs:{rules:e.generalRules,label:"БИН компании",required:""},model:{value:e.clientFields.bin,callback:function(t){e.$set(e.clientFields,"bin","string"===typeof t?t.trim():t)},expression:"clientFields.bin"}}),t(o.Z,{attrs:{rules:e.generalRules,label:"Имя отправителя",required:""},model:{value:e.clientFields.sender_name,callback:function(t){e.$set(e.clientFields,"sender_name","string"===typeof t?t.trim():t)},expression:"clientFields.sender_name"}})],1)],1)],1),t(a.Z,[t(l.Z,{attrs:{cols:"12"}},[t(i.Z,{attrs:{type:"submit",color:"primary"}},[e._v(" Отправить ")])],1)],1)],1)],1),t("vue-element-loading",{attrs:{active:e.isLoading,"background-color":"rgba(255, 255, 255, .2)",color:"blue"}})],1)},u=[],d=s(4402),m={data(){return{clientFields:{username:"",password:"",user_role:"client",company_name:"",bin:"",sender_name:"",is_active:!0},isLoading:!1,generalRules:[e=>!!e||"*Обязательное поле"]}},methods:{validate(){return this.$refs.form.validate()},reset(){this.$refs.form.reset()},submitForm(){if(this.validate()){const e=JSON.parse(JSON.stringify(this.clientFields));this.isLoading=!0,d.t.post("user/create",e).then((()=>{this.$store.commit("setClient",e),this.$store.commit("setActiveDashboardCategory","list"),this.$toast.success("Клиент успешно создан!",{timeout:2e3}),this.reset()})).catch((e=>{this.$toast.error(e.message,{timeout:2e3})})).finally((()=>{this.isLoading=!1}))}}}},p=m,f=s(1001),b=(0,f.Z)(p,c,u,!1,null,null,null),y=b.exports}}]);
//# sourceMappingURL=994.92ee0d7f.js.map