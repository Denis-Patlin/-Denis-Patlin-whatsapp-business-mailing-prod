{"version":3,"file":"js/721.1cd8cb5c.js","mappings":"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","sources":["webpack://work_project_v3/./src/components/BaseSearchBar.vue","webpack://work_project_v3/src/components/BaseSearchBar.vue","webpack://work_project_v3/./src/components/BaseSearchBar.vue?4ef2","webpack://work_project_v3/./src/components/BaseSearchBar.vue?7d41","webpack://work_project_v3/./src/components/TemplateList.vue","webpack://work_project_v3/src/components/TemplateList.vue","webpack://work_project_v3/./src/components/TemplateList.vue?a917","webpack://work_project_v3/./src/components/TemplateList.vue?6353","webpack://work_project_v3/../../../src/directives/scroll/index.ts","webpack://work_project_v3/../../../src/components/VVirtualScroll/VVirtualScroll.ts","webpack://work_project_v3/./src/mixins/avatarGenerateMixin.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-text-field',{attrs:{\"prepend-icon\":\"fa-solid fa-magnifying-glass\",\"placeholder\":\"Search...\"},on:{\"input\":_vm.search}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-text-field\r\n\t\tprepend-icon=\"fa-solid fa-magnifying-glass\"\r\n\t\tplaceholder=\"Search...\"\r\n\t\t@input=\"search\" \r\n\t/>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tprops: {\r\n\t\tdataForFilter: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => []\r\n\t\t},\r\n\t\tsearchKey: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tfiltredData: []\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tsearch(searchQuery) {\r\n\t\t\tthis.filtredData = this.dataForFilter.filter((item) =>\r\n\t\t\t\titem[this.searchKey].includes(searchQuery)\r\n\t\t\t);\r\n\t\t\tthis.$emit('onFilter', this.filtredData);\r\n\t\t}\r\n\t},\r\n};\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BaseSearchBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BaseSearchBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseSearchBar.vue?vue&type=template&id=121b54c7&\"\nimport script from \"./BaseSearchBar.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseSearchBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wrapper\"},[(!_vm.templatesOrigin.length)?_c('div',{staticClass:\"empty_list\"},[_vm._v(\" Список пуст \")]):_vm._e(),_c('div',{staticClass:\"search-bar\"},[_c('BaseSearchBar',{attrs:{\"data-for-filter\":_vm.templates,\"search-key\":'template_name'},on:{\"onFilter\":_vm.onFilterHandle}})],1),_c('v-virtual-scroll',{attrs:{\"items\":_vm.templatesOrigin,\"item-height\":70,\"min-height\":'50vh',\"max-height\":'100vh'},scopedSlots:_vm._u([{key:\"default\",fn:function({ item }){return [_c('div',{staticClass:\"list_item\"},[_c('div',{staticClass:\"list_item__block_info\"},[_c('v-avatar',{attrs:{\"color\":_vm.getColor(item.template_name)}},[_c('div',[_vm._v(_vm._s(_vm.getFirstLetter(item.template_name)))])]),_c('button',{staticClass:\"block_info__name\",on:{\"click\":function($event){return _vm.openModal(item)}}},[_vm._v(\" \"+_vm._s(item.template_name)+\" \")])],1),_c('div',{staticClass:\"list_item__block_buttons\"},[_c('BaseButton',{attrs:{\"color\":'gray'},on:{\"click\":function($event){return _vm.deleteTemplate(item)}}},[_c('i',{staticClass:\"fa-solid fa-trash-can red_font\"})])],1)])]}}])}),_c('BaseModal',{attrs:{\"open\":_vm.open,\"title\":\"Детали шаблона\"},on:{\"onModalClose\":_vm.onCloseModalHandle}},[_c('template',{slot:\"content\"},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',[_c('v-list-item-title',[_vm._v(\"ID Шаблона:\")]),_c('v-list-item-subtitle',[_vm._v(_vm._s(_vm.selectedItem.template_id))])],1),_c('v-list-item',[_c('v-list-item-title',[_vm._v(\"ID Пользователя:\")]),_c('v-list-item-subtitle',[_vm._v(_vm._s(_vm.selectedItem.user_id || 'Не найдено'))])],1),_c('v-list-item',[_c('v-list-item-title',[_vm._v(\"Время создания\")]),_c('v-list-item-subtitle',[_vm._v(_vm._s(_vm.dayjs(_vm.selectedItem.timestamp).format('DD.MM.YYYY hh:mm:ss')))])],1),_c('v-list-item',[_c('v-list-item-title',[_vm._v(\"Контент\")]),(_vm.selectedItem.edna_shortcut?.content?.whatsappContent?.contentType === 'TEXT')?_c('p',{key:\"content-availability\",staticStyle:{\"width\":\"100%\"}},[_vm._v(\" \\\"\"+_vm._s(_vm.selectedItem.edna_shortcut?.content?.whatsappContent?.text)+\"\\\" \")]):_c('a',{key:\"content-availability\",staticClass:\"content_file\",attrs:{\"href\":_vm.selectedItem.edna_shortcut?.content?.whatsappContent?.attachment?.url,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.selectedItem.edna_shortcut?.content?.whatsappContent?.attachment?.url)+\" \")])],1)],1)],1)],2),_c('vue-element-loading',{attrs:{\"active\":_vm.isLoading,\"background-color\":'rgba(255, 255, 255, 1)',\"color\":'blue'}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"wrapper\">\r\n\t\t<div \r\n\t\t\tv-if=\"!templatesOrigin.length\"\r\n\t\t\tclass=\"empty_list\"\r\n\t\t>\r\n\t\t\tСписок пуст\r\n\t\t</div>\r\n\t\t<div class=\"search-bar\">\r\n\t\t\t<BaseSearchBar \r\n\t\t\t\t:data-for-filter=\"templates\"\r\n\t\t\t\t:search-key=\"'template_name'\"\r\n\t\t\t\t@onFilter=\"onFilterHandle\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t\t<v-virtual-scroll\r\n\t\t\t:items=\"templatesOrigin\"\r\n\t\t\t:item-height=\"70\"\r\n\t\t\t:min-height=\"'50vh'\"\r\n\t\t\t:max-height=\"'100vh'\"\r\n\t\t>\r\n\t\t\t<template #default=\"{ item }\">\r\n\t\t\t\t<div class=\"list_item\">\r\n\t\t\t\t\t<div class=\"list_item__block_info\">\r\n\t\t\t\t\t\t<v-avatar :color=\"getColor(item.template_name)\">\r\n\t\t\t\t\t\t\t<div>{{ getFirstLetter(item.template_name) }}</div>\r\n\t\t\t\t\t\t</v-avatar>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"block_info__name\"\r\n\t\t\t\t\t\t\t@click=\"openModal(item)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ item.template_name }}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"list_item__block_buttons\">\r\n\t\t\t\t\t\t<BaseButton\r\n\t\t\t\t\t\t\t:color=\"'gray'\"\r\n\t\t\t\t\t\t\t@click=\"deleteTemplate(item)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<i class=\"fa-solid fa-trash-can red_font\" />\r\n\t\t\t\t\t\t</BaseButton>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</template>\r\n\t\t</v-virtual-scroll>\r\n\t\t<BaseModal\r\n\t\t\t:open=\"open\"\r\n\t\t\ttitle=\"Детали шаблона\"\r\n\t\t\t@onModalClose=\"onCloseModalHandle\"\r\n\t\t>\r\n\t\t\t<template slot=\"content\">\r\n\t\t\t\t<v-list dense>\r\n\t\t\t\t\t<v-list-item>\r\n\t\t\t\t\t\t<v-list-item-title>ID Шаблона:</v-list-item-title>\r\n\t\t\t\t\t\t<v-list-item-subtitle>{{ selectedItem.template_id }}</v-list-item-subtitle>\r\n\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t<v-list-item>\r\n\t\t\t\t\t\t<v-list-item-title>ID Пользователя:</v-list-item-title>\r\n\t\t\t\t\t\t<v-list-item-subtitle>{{ selectedItem.user_id || 'Не найдено' }}</v-list-item-subtitle>\r\n\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t<v-list-item>\r\n\t\t\t\t\t\t<v-list-item-title>Время создания</v-list-item-title>\r\n\t\t\t\t\t\t<v-list-item-subtitle>{{ dayjs(selectedItem.timestamp).format('DD.MM.YYYY hh:mm:ss') }}</v-list-item-subtitle>\r\n\t\t\t\t\t</v-list-item>\t\r\n\t\t\t\t\t<v-list-item>\r\n\t\t\t\t\t\t<v-list-item-title>Контент</v-list-item-title>\r\n\t\t\t\t\t\t<p \r\n\t\t\t\t\t\t\tv-if=\"selectedItem.edna_shortcut?.content?.whatsappContent?.contentType === 'TEXT'\"\r\n\t\t\t\t\t\t\tkey=\"content-availability\"\r\n\t\t\t\t\t\t\tstyle=\"width: 100%\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\"{{ selectedItem.edna_shortcut?.content?.whatsappContent?.text }}\"\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<a \r\n\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\tkey=\"content-availability\"\r\n\t\t\t\t\t\t\tclass=\"content_file\"\r\n\t\t\t\t\t\t\t:href=\"selectedItem.edna_shortcut?.content?.whatsappContent?.attachment?.url\"\r\n\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ selectedItem.edna_shortcut?.content?.whatsappContent?.attachment?.url }}\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</v-list-item>\r\n\t\t\t\t</v-list>\r\n\t\t\t</template>\r\n\t\t</BaseModal>\r\n\t\t<vue-element-loading \r\n\t\t\t:active=\"isLoading\"\r\n\t\t\t:background-color=\"'rgba(255, 255, 255, 1)'\"\r\n\t\t\t:color=\"'blue'\"\r\n\t\t/>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport shepherdMixin from '@/mixins/shepherdMixin';\r\nimport { mapGetters } from 'vuex';\r\nimport BaseSearchBar from '@/components/BaseSearchBar.vue';\r\nimport BaseModal from '@/components/BaseModal.vue';\r\nimport BaseButton from '@/components/BaseButton.vue';\r\nimport { HTTP } from '@/helpers/httpCommon';\r\nimport dayjs from 'dayjs';\r\nimport avatarGenerateMixin from '@/mixins/avatarGenerateMixin';\r\nexport default {\r\n\tcomponents: {\r\n\t\tBaseModal,\r\n\t\tBaseButton,\r\n\t\tBaseSearchBar,\r\n\t},\r\n\tmixins: [shepherdMixin, avatarGenerateMixin],\r\n\tdata: () => ({\r\n\t\tisLoading: false,\r\n\t\topen: false,\r\n\t\tselectedItem: {},\r\n\t\ttemplatesOrigin: [],\r\n\t}),\r\n\tcomputed: {\r\n\t\t...mapGetters(['getTemplates']),\r\n\t\ttemplates() {\r\n\t\t\treturn this.getTemplates;\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\ttemplates(newTemplates) {\r\n\t\t\tthis.templatesOrigin = [...newTemplates];\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tif(!localStorage.getItem('CompleteTemplateCreateTour')) {\r\n\t\t\tthis.createTour();\r\n\t\t\tconst id = this.$route.params.userId;\r\n\t\t\tif(!id) this.addCreateTemplateTour();\r\n\t\t\telse this.addAdminCreateTemplateTour();\r\n\t\t\tthis.tour.start();\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getData();\r\n\t},\r\n\tmethods: {\r\n\t\tgetData(id = this.$route.params.userId) {\r\n\t\t\tthis.isLoading = false;\r\n\t\t\tconst body = {};\r\n\t\t\t\r\n\t\t\tif(id) body.username = id;\r\n\r\n\t\t\tHTTP.post('get/templates', body)\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tconst data = response.data.Data ? response.data.Data : [];\r\n\t\t\t\t\tconst filtredData = data.sort((a, b) => {\r\n\t\t\t\t\t\treturn new Date(b.date) - new Date(a.date);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$store.commit('setTemplate', filtredData.reverse());\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tthis.$toast.error(error.message, {\r\n\t\t\t\t\t\ttimeout: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t}).finally(() => {\r\n\t\t\t\t\tthis.isLoading = false;\r\n\t\t\t\t});\r\n\r\n\t\t},\r\n\t\tdayjs: dayjs,\r\n\t\tonCloseModalHandle() {\r\n\t\t\tthis.selectedItem = {};\r\n\t\t\tthis.open = false;\r\n\t\t},\r\n\t\tonFilterHandle(results) {\r\n\t\t\tthis.templatesOrigin = results;\r\n\t\t},\r\n\t\topenModal(item) {\r\n\t\t\tthis.selectedItem = item;\r\n\t\t\tthis.open = true;\r\n\t\t},\r\n\t\tdeleteTemplate(item) {\r\n\t\t\tHTTP.delete(`delete/template/${item.template_id}`)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.$store.commit('deleteTemplate', item.template_id);\r\n\t\t\t\t\tthis.$toast.info('Шаблон успешно удален');\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tthis.$toast.error(error.message, {\r\n\t\t\t\t\t\ttimeout: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\t},\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.empty_list {\r\n\t\tposition: absolute;\r\n\t\ttop: 60%;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tmargin-left: auto;\r\n\t\tmargin-right: auto;\r\n\t\twidth: 115px;\r\n\t}\r\n\t.wrapper {\r\n\t\tposition: relative;\r\n\r\n\t\tpadding-top: 10px;\r\n\t\tpadding-left: 10px;\r\n\t\tpadding-bottom: 19px;\r\n\t\tpadding-right: 0;\r\n\t}\r\n\t.search-bar {\r\n\t\tmargin: 0 30px 0 10px;\r\n\t}\r\n\t.list_item {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding-right: 10px;\r\n\t\theight: 70px;\r\n\t\t.block_info {\r\n\t\t\tdisplay: flex;\r\n\t\t\t&__picture_frame {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t\r\n\t\t\t\twidth: 40px;\r\n\t\t\t\theight: 40px;\r\n\r\n\t\t\t\tborder-radius: 50%;\r\n\r\n\t\t\t\tbackground-color: gray;\r\n\t\t\t\tcolor: white;\r\n\t\t\t}\r\n\t\t\t&__name {\r\n\t\t\t\tmargin-left: 15px;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t\talign-self: center;\r\n\t\t\t}\r\n\t\t}\r\n\t\t&__block_info {\r\n\t\t\tdisplay: flex;\r\n\t\t}\r\n\t\t&__block_buttons {\r\n\t\t\tdisplay: flex;\r\n\t\t}\r\n\t}\r\n\r\n\t.content_file {\r\n\t\tmin-width: 50%;\r\n\t\tfont-size: 13px;\r\n\t}\r\n\r\n\t.red_font {\r\n\t\tcolor: red;\r\n\t}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TemplateList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TemplateList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TemplateList.vue?vue&type=template&id=5f4964d7&scoped=true&\"\nimport script from \"./TemplateList.vue?vue&type=script&lang=js&\"\nexport * from \"./TemplateList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TemplateList.vue?vue&type=style&index=0&id=5f4964d7&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f4964d7\",\n  null\n  \n)\n\nexport default component.exports","import { VNodeDirective } from 'vue/types/vnode'\nimport { DirectiveOptions, VNode } from 'vue'\n\ninterface ScrollVNodeDirective extends Omit<VNodeDirective, 'modifiers'> {\n  value: EventListener | {\n    handler: EventListener\n    options?: boolean | AddEventListenerOptions\n  } | EventListenerObject & { options?: boolean | AddEventListenerOptions }\n  modifiers?: {\n    self?: boolean\n  }\n}\n\nfunction inserted (el: HTMLElement, binding: ScrollVNodeDirective, vnode: VNode) {\n  const { self = false } = binding.modifiers || {}\n  const value = binding.value\n  const options = (typeof value === 'object' && value.options) || { passive: true }\n  const handler = typeof value === 'function' || 'handleEvent' in value ? value : value.handler\n\n  const target = self\n    ? el\n    : binding.arg\n      ? document.querySelector(binding.arg)\n      : window\n\n  if (!target) return\n\n  target.addEventListener('scroll', handler, options)\n\n  el._onScroll = Object(el._onScroll)\n  el._onScroll![vnode.context!._uid] = {\n    handler,\n    options,\n    // Don't reference self\n    target: self ? undefined : target,\n  }\n}\n\nfunction unbind (el: HTMLElement, binding: ScrollVNodeDirective, vnode: VNode) {\n  if (!el._onScroll?.[vnode.context!._uid]) return\n\n  const { handler, options, target = el } = el._onScroll[vnode.context!._uid]!\n\n  target.removeEventListener('scroll', handler, options)\n  delete el._onScroll[vnode.context!._uid]\n}\n\nexport const Scroll = {\n  inserted,\n  unbind,\n} as DirectiveOptions\n\nexport default Scroll\n","// Styles\nimport './VVirtualScroll.sass'\n\n// Mixins\nimport Measurable from '../../mixins/measurable'\n\n// Directives\nimport Scroll from '../../directives/scroll'\n\n// Utilities\nimport {\n  convertToUnit,\n  getSlot,\n} from '../../util/helpers'\n\n// Types\nimport { VNode } from 'vue'\nimport { PropValidator } from 'vue/types/options'\n\nexport default Measurable.extend({\n  name: 'v-virtual-scroll',\n\n  directives: { Scroll },\n\n  props: {\n    bench: {\n      type: [Number, String],\n      default: 0,\n    },\n    itemHeight: {\n      type: [Number, String],\n      required: true,\n    },\n    items: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<any[]>,\n  },\n\n  data: () => ({\n    first: 0,\n    last: 0,\n    scrollTop: 0,\n  }),\n\n  computed: {\n    __bench (): number {\n      return parseInt(this.bench, 10)\n    },\n    __itemHeight (): number {\n      return parseInt(this.itemHeight, 10)\n    },\n    firstToRender (): number {\n      return Math.max(0, this.first - this.__bench)\n    },\n    lastToRender (): number {\n      return Math.min(this.items.length, this.last + this.__bench)\n    },\n  },\n\n  watch: {\n    height: 'onScroll',\n    itemHeight: 'onScroll',\n  },\n\n  mounted () {\n    this.last = this.getLast(0)\n  },\n\n  methods: {\n    getChildren (): VNode[] {\n      return this.items.slice(\n        this.firstToRender,\n        this.lastToRender,\n      ).map(this.genChild)\n    },\n    genChild (item: any, index: number) {\n      index += this.firstToRender\n\n      const top = convertToUnit(index * this.__itemHeight)\n\n      return this.$createElement('div', {\n        staticClass: 'v-virtual-scroll__item',\n        style: { top },\n        key: index,\n      }, getSlot(this, 'default', { index, item }))\n    },\n    getFirst (): number {\n      return Math.floor(this.scrollTop / this.__itemHeight)\n    },\n    getLast (first: number): number {\n      const height = parseInt(this.height || 0, 10) || this.$el.clientHeight\n\n      return first + Math.ceil(height / this.__itemHeight)\n    },\n    onScroll () {\n      this.scrollTop = this.$el.scrollTop\n      this.first = this.getFirst()\n      this.last = this.getLast(this.first)\n    },\n  },\n\n  render (h): VNode {\n    const content = h('div', {\n      staticClass: 'v-virtual-scroll__container',\n      style: {\n        height: convertToUnit((this.items.length * this.__itemHeight)),\n      },\n    }, this.getChildren())\n\n    return h('div', {\n      staticClass: 'v-virtual-scroll',\n      style: this.measurableStyles,\n      directives: [{\n        name: 'scroll',\n        modifiers: { self: true },\n        value: this.onScroll,\n      }],\n      on: this.$listeners,\n    }, [content])\n  },\n})\n","export default {\r\n\tmethods: {\r\n\t\tgetColor(name) {\r\n\t\t\tconst colors = [\r\n\t\t\t\t'#F46A5F', '#FC8256', '#FFC33D', '#49BEB7',\r\n\t\t\t\t'#4C96D7', '#8555D7', '#FF7DCC', '#D4C5F9',\r\n\t\t\t\t'#4992E6', '#FF6B8A', '#01A9DB', '#B6FCD5'\r\n\t\t\t];\r\n\r\n\t\t\tlet hash = 0;\r\n\t\t\tfor (let i = 0; i < name.length; i++) {\r\n\t\t\t\thash = name.charCodeAt(i) + ((hash << 5) - hash);\r\n\t\t\t}\r\n\r\n\t\t\tconst index = Math.abs(hash) % colors.length;\r\n\t\t\treturn colors[index];\r\n\t\t},\r\n\t\tgetFirstLetter(str) {\r\n\t\t\tif (str && str.length > 0) {\r\n\t\t\t\treturn str.charAt(0);\r\n\t\t\t}\r\n\t\t\treturn '';\r\n\t\t}\r\n\t},\r\n};"],"names":["_c","_self","attrs","props","dataForFilter","type","Array","default","searchKey","String","data","filtredData","methods","search","searchQuery","filter","item","includes","$emit","component","render","staticRenderFns","staticClass","on","templatesOrigin","scopedSlots","fn","_vm","_s","template_name","$event","open","slot","key","staticStyle","_v","selectedItem","edna_shortcut","content","whatsappContent","attachment","components","BaseModal","BaseButton","BaseSearchBar","mixins","shepherdMixin","avatarGenerateMixin","isLoading","computed","mapGetters","templates","getTemplates","watch","newTemplates","mounted","localStorage","getItem","createTour","id","$route","params","userId","addAdminCreateTemplateTour","addCreateTemplateTour","tour","start","created","getData","body","username","HTTP","then","response","Data","sort","a","b","Date","date","$store","commit","reverse","catch","error","$toast","message","timeout","finally","dayjs","onCloseModalHandle","onFilterHandle","results","openModal","deleteTemplate","template_id","info","inserted","el","binding","vnode","self","modifiers","value","options","passive","handler","target","arg","document","querySelector","window","addEventListener","_onScroll","Object","context","_uid","undefined","unbind","_a","removeEventListener","Scroll","Measurable","name","directives","bench","Number","itemHeight","required","items","first","last","scrollTop","__bench","parseInt","this","__itemHeight","firstToRender","Math","max","lastToRender","min","length","height","getLast","getChildren","slice","map","genChild","index","top","convertToUnit","$createElement","style","getSlot","getFirst","floor","$el","clientHeight","ceil","onScroll","h","measurableStyles","$listeners","getColor","colors","hash","i","charCodeAt","abs","getFirstLetter","str","charAt"],"sourceRoot":""}