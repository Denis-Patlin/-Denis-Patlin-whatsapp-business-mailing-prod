"use strict";(self["webpackChunkwork_project_v3"]=self["webpackChunkwork_project_v3"]||[]).push([[869],{2271:function(t,e,s){s.d(e,{Z:function(){return h}});var i=s(1280),r=function(){var t=this,e=t._self._c;return e(i.Z,{attrs:{"prepend-icon":"fa-solid fa-magnifying-glass",placeholder:"Search..."},on:{input:t.doSearch}})},n=[],a={props:{dataForFilter:{type:Array,default:()=>[]},searchKey:{type:String,default:""}},data(){return{filtredData:[]}},methods:{doSearch(t){this.filtredData=this.dataForFilter.filter((e=>e[this.searchKey].includes(t))),this.$emit("onFilter",this.filtredData)}}},l=a,o=s(1001),c=(0,o.Z)(l,r,n,!1,null,null,null),h=c.exports},6869:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var i=s(3423),r=s(5256),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("div",{staticClass:"search-bar"},[e("BaseSearchBar",{attrs:{"data-for-filter":t.clients,"search-key":"username"},on:{onFilter:t.onFilterHandle}})],1),e(r.Z,{staticClass:"virual-scroll",attrs:{items:t.clientsOrigin,"item-height":70,"min-height":"50vh","max-height":"100vh"},scopedSlots:t._u([{key:"default",fn:function({item:s}){return[e("div",{staticClass:"list_item"},[e("div",{staticClass:"list_item__block_info"},[e(i.Z,{attrs:{color:t.getColor(s.username)}},[e("div",[t._v(t._s(t.getFirstLetter(s.username)))])]),e("div",{staticClass:"block_info__name"},[t._v(" "+t._s(s.username)+" ")])],1),e("div",{staticClass:"list_item__block_buttons"},[e("BaseButton",{attrs:{color:"gray"},on:{click:function(e){return t.openClientTemplates(s)}}},[t._v(" Шаблоны ")]),e("BaseButton",{attrs:{color:"gray"},on:{click:function(e){return t.openClientsReports(s)}}},[t._v(" Отчеты ")]),e("BaseButton",{attrs:{color:"gray"},on:{click:function(e){return t.toggleUserActivation(s)}}},[e("i",{class:t.getIcon(s.is_active)})])],1)])]}}])}),e("vue-element-loading",{attrs:{active:t.isLoading,"background-color":"rgba(255, 255, 255, 1)",color:"blue"}})],1)},a=[],l=(s(7658),s(629)),o=s(4402),c=s(646),h=s(2271),u={components:{BaseButton:c.Z,BaseSearchBar:h.Z},data:()=>({clientsOrigin:[],isLoading:!1,modal:!1}),computed:{...(0,l.Se)(["getClients"]),clients(){return this.getClients}},watch:{clients(t){this.clientsOrigin=[...t]}},created(){o.t.get("/users").then((t=>{this.$store.commit("setClient",t.data.Data.reverse())})).catch((t=>{this.$toast.error(t.message,{timeout:2e3})}))},methods:{onFilterHandle(t){this.clientsOrigin=t},getColor(t){const e=["#F46A5F","#FC8256","#FFC33D","#49BEB7","#4C96D7","#8555D7","#FF7DCC","#D4C5F9","#4992E6","#FF6B8A","#01A9DB","#B6FCD5"];let s=0;for(let r=0;r<t.length;r++)s=t.charCodeAt(r)+((s<<5)-s);const i=Math.abs(s)%e.length;return e[i]},getFirstLetter(t){return t&&t.length>0?t.charAt(0):""},openClientTemplates(t){this.$store.commit("setActiveDashboardCategory","user"),this.$router.push({name:"clientsTemplates",params:{userId:t.username,user:t}})},openClientsReports(t){this.$store.commit("setActiveDashboardCategory","user"),this.$router.push({name:"clientsReports",params:{userId:t.username,user:t}})},getIcon(t){return t?"fa-solid fa-ban red_font":"fa-regular fa-circle-check green_font"},toggleUserActivation(t){let e=null,s="";t.is_active?(s="Клиент деактивирован",e="deactivate"):(s="Клиент активирован",e="activate"),this.isLoading=!0,o.t.get(`user/${e}/${t.username}`).then((()=>{t.is_active=!t.is_active,this.$toast.success(s,{timeout:2e3})})).catch((t=>{this.$toast.error(t.message,{timeout:2e3})})).finally((()=>{this.isLoading=!1}))}}},d=u,g=s(1001),m=(0,g.Z)(d,n,a,!1,null,"82a96326",null),v=m.exports},3423:function(t,e,s){s.d(e,{Z:function(){return o}});var i=s(6878),r=s(8846),n=s(2637),a=s(5352),l=s(7678),o=(0,l.Z)(i.Z,r.Z,n.Z).extend({name:"v-avatar",props:{left:Boolean,right:Boolean,size:{type:[Number,String],default:48}},computed:{classes(){return{"v-avatar--left":this.left,"v-avatar--right":this.right,...this.roundedClasses}},styles(){return{height:(0,a.kb)(this.size),minWidth:(0,a.kb)(this.size),width:(0,a.kb)(this.size),...this.measurableStyles}}},render(t){const e={staticClass:"v-avatar",class:this.classes,style:this.styles,on:this.$listeners};return t("div",this.setBackgroundColor(this.color,e),this.$slots.default)}})},5256:function(t,e,s){s.d(e,{Z:function(){return c}});var i=s(8846);function r(t,e,s){const{self:i=!1}=e.modifiers||{},r=e.value,n="object"===typeof r&&r.options||{passive:!0},a="function"===typeof r||"handleEvent"in r?r:r.handler,l=i?t:e.arg?document.querySelector(e.arg):window;l&&(l.addEventListener("scroll",a,n),t._onScroll=Object(t._onScroll),t._onScroll[s.context._uid]={handler:a,options:n,target:i?void 0:l})}function n(t,e,s){var i;if(!(null===(i=t._onScroll)||void 0===i?void 0:i[s.context._uid]))return;const{handler:r,options:n,target:a=t}=t._onScroll[s.context._uid];a.removeEventListener("scroll",r,n),delete t._onScroll[s.context._uid]}const a={inserted:r,unbind:n};var l=a,o=s(5352),c=i.Z.extend({name:"v-virtual-scroll",directives:{Scroll:l},props:{bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},data:()=>({first:0,last:0,scrollTop:0}),computed:{__bench(){return parseInt(this.bench,10)},__itemHeight(){return parseInt(this.itemHeight,10)},firstToRender(){return Math.max(0,this.first-this.__bench)},lastToRender(){return Math.min(this.items.length,this.last+this.__bench)}},watch:{height:"onScroll",itemHeight:"onScroll"},mounted(){this.last=this.getLast(0)},methods:{getChildren(){return this.items.slice(this.firstToRender,this.lastToRender).map(this.genChild)},genChild(t,e){e+=this.firstToRender;const s=(0,o.kb)(e*this.__itemHeight);return this.$createElement("div",{staticClass:"v-virtual-scroll__item",style:{top:s},key:e},(0,o.z9)(this,"default",{index:e,item:t}))},getFirst(){return Math.floor(this.scrollTop/this.__itemHeight)},getLast(t){const e=parseInt(this.height||0,10)||this.$el.clientHeight;return t+Math.ceil(e/this.__itemHeight)},onScroll(){this.scrollTop=this.$el.scrollTop,this.first=this.getFirst(),this.last=this.getLast(this.first)}},render(t){const e=t("div",{staticClass:"v-virtual-scroll__container",style:{height:(0,o.kb)(this.items.length*this.__itemHeight)}},this.getChildren());return t("div",{staticClass:"v-virtual-scroll",style:this.measurableStyles,directives:[{name:"scroll",modifiers:{self:!0},value:this.onScroll}],on:this.$listeners},[e])}})}}]);
//# sourceMappingURL=869.d41dc603.js.map